parameters:
  - name: resourceConfiguration
    type: object

jobs:
  - job: infrastructurebuild
    displayName: Azure Infrastructure Build
    steps:
      - template: .\infrastructure-build-steps.yml
        parameters:
          resourceConfiguration: ${{ parameters.resourceConfiguration }}


    # - task: CopyFiles@2
    #   inputs:
    #     sourceFolder: 'src\scripts\infrastructure\'
    #     contents: '**' 
    #     targetFolder: '$(Build.ArtifactStagingDirectory)'
    #   displayName: 'Copy Infrastructure'
    
    # - task: PublishBuildArtifacts@1
    #   inputs:
    #     pathtoPublish: '$(Build.ArtifactStagingDirectory)'
    #     artifactName: infrastructure
    #   displayName: 'Publish Infrastructure'